<div class="min-h-screen bg-gradient-to-r from-pink-100 to-blue-100 p-4">
    <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-xl p-8">
        <h1 class="text-3xl font-dancing text-primary mb-6 text-center">Etkinlik Yönetimi</h1>

        <!-- Etkinlik Listesi -->
        <div *ngIf="userEvents.length > 0" class="mb-8">
            <h2 class="text-2xl font-semibold mb-4">Etkinlikleriniz</h2>
            <ul class="space-y-2">
                <li *ngFor="let event of userEvents" class="flex justify-between items-center bg-gray-100 p-3 rounded">
                    <span>{{ event.name }}</span>
                    <button (click)="editEvent(event)" class="text-blue-500 hover:text-blue-700">Düzenle</button>
                </li>
            </ul>
        </div>

        <!-- Etkinlik Oluşturma/Düzenleme Formu -->
        <form (ngSubmit)="saveEventSettings()" #eventForm="ngForm">
            <div class="mb-4">
                <label for="eventType" class="block mb-2">Etkinlik Türü</label>
                <select id="eventType" name="eventType" [(ngModel)]="currentEvent.eventType"
                    (change)="onEventTypeChange()" class="w-full p-2 border rounded" required>
                    <option value="">Seçiniz</option>
                    <option *ngFor="let type of eventTypes" [value]="type">{{ type }}</option>
                </select>
            </div>

            <div class="mb-4">
                <label for="eventName" class="block mb-2">Etkinlik Adı</label>
                <input type="text" id="eventName" name="eventName" [(ngModel)]="currentEvent.name" maxlength="50"
                    class="w-full p-2 border rounded" required>
                <small class="text-gray-500">{{ currentEvent.name?.length || 0 }}/50</small>
            </div>

            <div *ngIf="showBrideGroomNames" class="mb-4 flex space-x-4">
                <div class="w-1/2">
                    <label for="brideName" class="block mb-2">Gelin Adı</label>
                    <input type="text" id="brideName" name="brideName" [(ngModel)]="currentEvent.brideName"
                        class="w-full p-2 border rounded">
                </div>
                <div class="w-1/2">
                    <label for="groomName" class="block mb-2">Damat Adı</label>
                    <input type="text" id="groomName" name="groomName" [(ngModel)]="currentEvent.groomName"
                        class="w-full p-2 border rounded">
                </div>
            </div>

            <div class="mb-4">
                <label for="startDateTime" class="block mb-2">Başlangıç Tarihi ve Saati</label>
                <input type="datetime-local" id="startDateTime" name="startDateTime"
                    [(ngModel)]="currentEvent.startDateTime" class="w-full p-2 border rounded" required>
            </div>

            <div class="mb-4">
                <label for="endDateTime" class="block mb-2">Bitiş Tarihi ve Saati</label>
                <input type="datetime-local" id="endDateTime" name="endDateTime" [(ngModel)]="currentEvent.endDateTime"
                    class="w-full p-2 border rounded" required>
            </div>

            <div class="mb-4">
                <label for="eventCode" class="block mb-2">Etkinlik Kodu</label>
                <div class="flex space-x-2">
                    <input type="text" id="eventCode" name="eventCode" [(ngModel)]="currentEvent.eventCode"
                        maxlength="20" class="w-full p-2 border rounded" readonly>
                    <button type="button" (click)="generateEventCode()"
                        class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Yenile</button>
                </div>
                <small class="text-gray-500">{{ currentEvent.eventCode?.length || 0 }}/20</small>
            </div>

            <div class="mb-4">
                <label for="description" class="block mb-2">Açıklama</label>
                <textarea id="description" name="description" [(ngModel)]="currentEvent.description" rows="3"
                    class="w-full p-2 border rounded"></textarea>
            </div>

            <div class="flex justify-between mt-6">
                <button type="button" (click)="cancel()"
                    class="bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400">İptal</button>
                <button type="submit" [disabled]="!eventForm.form.valid"
                    class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">Kaydet</button>
            </div>
        </form>
    </div>
</div>