<div class="flex flex-col items-center justify-center min-h-screen bg-gradient-to-r from-pink-100 to-blue-100 p-4">
    <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-md">
        <h1 class="text-3xl font-dancing text-primary mb-6 text-center">Etkinlik Ayarları</h1>
        <form (ngSubmit)="saveEventSettings()" #eventForm="ngForm">
            <div class="mb-4">
                <label for="eventType" class="block text-sm font-medium mb-1"
                    [class.text-red-500]="eventTypeInput.invalid && (eventTypeInput.dirty || eventTypeInput.touched)">Etkinlik
                    Türü</label>
                <select id="eventType" [(ngModel)]="eventSettings.eventType" name="eventType"
                    (change)="onEventTypeChange()" #eventTypeInput="ngModel" required
                    class="w-full px-3 py-2 bg-transparent border-b focus:outline-none"
                    [class.border-red-500]="eventTypeInput.invalid && (eventTypeInput.dirty || eventTypeInput.touched)"
                    [class.border-gray-300]="!eventTypeInput.invalid"
                    [class.focus:border-primary]="!eventTypeInput.invalid">
                    <option value="" disabled selected>Seçiniz</option>
                    <option *ngFor="let type of eventTypes" [value]="type">{{type}}</option>
                </select>
            </div>
            <div class="mb-4">
                <label for="eventName" class="block text-sm font-medium mb-1"
                    [class.text-red-500]="eventNameInput.invalid && (eventNameInput.dirty || eventNameInput.touched)">Etkinlik
                    Adı</label>
                <input type="text" id="eventName" [(ngModel)]="eventSettings.name" name="eventName"
                    #eventNameInput="ngModel" required maxlength="50"
                    class="w-full px-3 py-2 bg-transparent border-b focus:outline-none"
                    [class.border-red-500]="eventNameInput.invalid && (eventNameInput.dirty || eventNameInput.touched)"
                    [class.border-gray-300]="!eventNameInput.invalid"
                    [class.focus:border-primary]="!eventNameInput.invalid">
                <small class="text-gray-500">{{eventSettings.name?.length || 0}}/50</small>
            </div>
            <ng-container *ngIf="eventSettings.eventType === 'Düğün Etkinlikleri'">
                <div class="mb-4 flex space-x-2">
                    <div class="w-1/2">
                        <label for="brideName" class="block text-sm font-medium mb-1"
                            [class.text-red-500]="brideNameInput.invalid && (brideNameInput.dirty || brideNameInput.touched)">Gelin
                            Adı</label>
                        <input type="text" id="brideName" [(ngModel)]="eventSettings.brideName" name="brideName"
                            #brideNameInput="ngModel" required
                            class="w-full px-3 py-2 bg-transparent border-b focus:outline-none"
                            [class.border-red-500]="brideNameInput.invalid && (brideNameInput.dirty || brideNameInput.touched)"
                            [class.border-gray-300]="!brideNameInput.invalid"
                            [class.focus:border-primary]="!brideNameInput.invalid">
                    </div>
                    <div class="w-1/2">
                        <label for="groomName" class="block text-sm font-medium mb-1"
                            [class.text-red-500]="groomNameInput.invalid && (groomNameInput.dirty || groomNameInput.touched)">Damat
                            Adı</label>
                        <input type="text" id="groomName" [(ngModel)]="eventSettings.groomName" name="groomName"
                            #groomNameInput="ngModel" required
                            class="w-full px-3 py-2 bg-transparent border-b focus:outline-none"
                            [class.border-red-500]="groomNameInput.invalid && (groomNameInput.dirty || groomNameInput.touched)"
                            [class.border-gray-300]="!groomNameInput.invalid"
                            [class.focus:border-primary]="!groomNameInput.invalid">
                    </div>
                </div>
            </ng-container>
            <div class="mb-4">
                <label class="block text-sm font-medium mb-1"
                    [class.text-red-500]="(startDateInput.invalid && (startDateInput.dirty || startDateInput.touched)) || (endDateInput.invalid && (endDateInput.dirty || endDateInput.touched))">Etkinlik
                    Tarihi</label>
                <div class="flex space-x-2">
                    <input type="datetime-local" [(ngModel)]="eventSettings.startDate" name="startDate"
                        #startDateInput="ngModel" required
                        class="w-full px-3 py-2 bg-transparent border-b focus:outline-none"
                        [class.border-red-500]="startDateInput.invalid && (startDateInput.dirty || startDateInput.touched)"
                        [class.border-gray-300]="!startDateInput.invalid"
                        [class.focus:border-primary]="!startDateInput.invalid">
                    <span class="text-gray-500 self-center">-</span>
                    <input type="datetime-local" [(ngModel)]="eventSettings.endDate" name="endDate"
                        #endDateInput="ngModel" required
                        class="w-full px-3 py-2 bg-transparent border-b focus:outline-none"
                        [class.border-red-500]="endDateInput.invalid && (endDateInput.dirty || endDateInput.touched)"
                        [class.border-gray-300]="!endDateInput.invalid"
                        [class.focus:border-primary]="!endDateInput.invalid">
                </div>
            </div>
            <div class="mb-4">
                <label for="eventId" class="block text-sm font-medium mb-1"
                    [class.text-red-500]="eventIdInput.invalid && (eventIdInput.dirty || eventIdInput.touched)">Etkinlik
                    Kodu</label>
                <input type="text" id="eventId" [(ngModel)]="eventSettings.eventId" name="eventId"
                    #eventIdInput="ngModel" required maxlength="20" pattern="^[a-zA-Z0-9]{1,20}$"
                    class="w-full px-3 py-2 bg-transparent border-b focus:outline-none"
                    [class.border-red-500]="eventIdInput.invalid && (eventIdInput.dirty || eventIdInput.touched)"
                    [class.border-gray-300]="!eventIdInput.invalid"
                    [class.focus:border-primary]="!eventIdInput.invalid">
                <small class="text-gray-500">{{eventSettings.eventId?.length || 0}}/20</small>
            </div>
            <div class="mb-4">
                <label for="description" class="block text-sm font-medium text-gray-700 mb-1">Açıklama</label>
                <textarea id="description" [(ngModel)]="eventSettings.description" name="description" rows="3"
                    class="w-full px-3 py-2 bg-transparent border-b border-gray-300 focus:border-primary focus:outline-none"></textarea>
            </div>
            <div class="flex items-center justify-between mt-6">
                <button type="button" (click)="cancel()"
                    class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500">
                    İptal
                </button>
                <button type="submit" [disabled]="!eventForm.form.valid"
                    class="px-4 py-2 bg-primary text-white rounded-md hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"
                    [class.opacity-50]="!eventForm.form.valid" [class.cursor-not-allowed]="!eventForm.form.valid">
                    Kaydet
                </button>
            </div>
        </form>
    </div>
</div>